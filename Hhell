<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <title>Personality Quiz</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- React + ReactDOM -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <!-- Framer Motion -->
    <script src="https://unpkg.com/framer-motion/dist/framer-motion.umd.js"></script>
  </head>
  <body class="bg-black">
    <div id="root"></div>

    <script type="text/javascript">
      const { useState } = React;
      const { motion, AnimatePresence } = window["framer-motion"];

      function PersonalityQuizSite() {
        const introTexts = [
          "ì•ˆë…•í•˜ì„¸ìš”. ì €ëŠ” ì¸ê³µì§€ëŠ¥ íŒŒëž‘ìž…ë‹ˆë‹¤.",
          "ë‹¹ì‹ ì˜ ì¸ì„± ì ìˆ˜ë¥¼ ì•Œê³  ì‹¶ë‹¤ë©´ ëª¨ë“  ì§ˆë¬¸ì— ì •ì§í•˜ê²Œ ëŒ€ë‹µí•˜ì…”ì•¼ í•©ë‹ˆë‹¤.",
          "ë§Œì•½ ì •ì§í•˜ê²Œ ëŒ€ë‹µí•˜ì§€ ì•Šìœ¼ë©´ ë” ë‚®ì€ ì ìˆ˜ë¥¼ ë°›ê²Œ ë©ë‹ˆë‹¤.",
          "ê·¸ëŸ¬ë‹ˆ ìž˜ ìƒê°í•´ì„œ ëŒ€ë‹µí•´ ì£¼ì„¸ìš”.",
          "ì´ì œ ì¸ì„± í…ŒìŠ¤íŠ¸ë¥¼ ì‹œìž‘í•˜ê² ìŠµë‹ˆë‹¤.",
        ];

        const questions = [
          "ë‹¹ì‹ ì€ ë‚¯ì„  ì‚¬ëžŒì´ ì–´ë ¤ì›€ì— ì²˜í–ˆì„ ë•Œ ë„ì™€ì¤€ ì ì´ ìžˆë‚˜ìš”?",
          "ë‹¹ì‹ ì€ ì¹œêµ¬ì˜ ì–´ë ¤ì›€ì„ ëª¨ë¥¸ ì²™í•˜ì§€ ì•ŠëŠ” ì‚¬ëžŒì¸ê°€ìš”?",
          "ë‹¹ì‹ ì€ í˜¼ìž ë°¥ì„ ë¨¹ì„ ë•Œ ì™¸ë¡œì›€ì„ ëŠë‚€ ì ì´ ìžˆë‚˜ìš”?",
          "ë‹¹ì‹ ì€ í˜¼ìž ë°¥ ë¨¹ëŠ” ì¹œêµ¬ë¥¼ ë³´ì•˜ì„ ë•Œ ë„ì™€ì£¼ë ¤ê³  ë…¸ë ¥í•˜ë‚˜ìš”?",
          "ë‹¹ì‹ ì€ íƒ€ì¸ì˜ ìž˜ëª»ì„ ìš©ì„œí•œ ì ì´ ìžˆìŠµë‹ˆê¹Œ?",
          "ë‹¹ì‹ ì€ ìžì‹ ì´ ìž˜ëª»í–ˆì„ ë•Œ ì¸ì •í•˜ê³  ì‚¬ê³¼í•œ ì ì´ ìžˆìŠµë‹ˆê¹Œ?",
          "ìž¥ì–´ëŠ” ë°ë¦¬ì•¼ë¼ì¸ê°€ìš” ì†Œê¸ˆêµ¬ì´ì¸ê°€ìš”?",
        ];

        const [showIntro, setShowIntro] = useState(true);
        const [introIndex, setIntroIndex] = useState(0);
        const [questionIndex, setQuestionIndex] = useState(0);
        const [answers, setAnswers] = useState({});
        const [clicked, setClicked] = useState(null);
        const [showLastNotice, setShowLastNotice] = useState(false);
        const [finished, setFinished] = useState(false);

        const handleNextIntro = () => {
          if (introIndex < introTexts.length - 1) {
            setIntroIndex(introIndex + 1);
          } else {
            setShowIntro(false);
          }
        };

        const handleAnswer = (ans) => {
          setClicked(ans);
          setAnswers((prev) => ({ ...prev, [questionIndex]: ans }));
          setTimeout(() => {
            setClicked(null);
            if (questionIndex < questions.length - 1) {
              if (questionIndex === questions.length - 2) {
                setShowLastNotice(true);
                setTimeout(() => {
                  setShowLastNotice(false);
                  setQuestionIndex((prev) => prev + 1);
                }, 2000);
              } else {
                setQuestionIndex((prev) => prev + 1);
              }
            } else {
              setFinished(true);
            }
          }, 400);
        };

        return (
          React.createElement("div", {
            className:
              "min-h-screen flex items-center justify-center text-center p-6 select-none relative overflow-hidden bg-black font-['Orbitron']",
            onClick: showIntro ? handleNextIntro : undefined,
            children: [
              React.createElement("div", {
                className:
                  "absolute inset-0 bg-gradient-to-b from-black via-indigo-950 to-black animate-pulse z-0",
              }),
              React.createElement(
                "div",
                { className: "absolute w-full h-full overflow-hidden z-0" },
                Array.from({ length: 70 }).map((_, i) =>
                  React.createElement(motion.div, {
                    key: i,
                    className: "absolute w-1 h-1 bg-white rounded-full shadow-lg",
                    initial: { opacity: 0 },
                    animate: { opacity: [0, 1, 0] },
                    transition: {
                      duration: Math.random() * 3 + 2,
                      repeat: Infinity,
                      delay: Math.random() * 5,
                    },
                    style: {
                      top: `${Math.random() * 100}%`,
                      left: `${Math.random() * 100}%`,
                    },
                  })
                )
              ),
              React.createElement(AnimatePresence, { mode: "wait" },
                showIntro
                  ? React.createElement(
                      motion.div,
                      {
                        key: introIndex,
                        initial: { opacity: 0, scale: 0.9 },
                        animate: { opacity: 1, scale: 1 },
                        exit: { opacity: 0, scale: 1.1 },
                        transition: { duration: 0.6 },
                        className:
                          "text-3xl sm:text-5xl font-extrabold drop-shadow-[0_0_20px_rgba(0,255,255,0.7)] text-cyan-200 z-10",
                      },
                      introTexts[introIndex]
                    )
                  : showLastNotice
                  ? React.createElement(
                      motion.div,
                      {
                        key: "last-notice",
                        initial: { opacity: 0, scale: 0.8 },
                        animate: { opacity: 1, scale: 1 },
                        exit: { opacity: 0 },
                        transition: { duration: 0.6 },
                        className:
                          "text-3xl sm:text-5xl font-extrabold text-amber-300 drop-shadow-[0_0_15px_rgba(255,200,0,0.8)] z-10",
                      },
                      "ë§ˆì§€ë§‰ ì§ˆë¬¸ìž…ë‹ˆë‹¤."
                    )
                  : finished
                  ? React.createElement(
                      motion.div,
                      {
                        key: "result",
                        initial: { opacity: 0, y: 50 },
                        animate: { opacity: 1, y: 0 },
                        transition: { duration: 0.8 },
                        className:
                          "flex flex-col items-center gap-6 z-10",
                      },
                      [
                        React.createElement(
                          "div",
                          {
                            className:
                              "text-4xl sm:text-5xl font-extrabold text-cyan-300 drop-shadow-[0_0_25px_rgba(0,255,255,0.9)]",
                          },
                          "í…ŒìŠ¤íŠ¸ ì™„ë£Œ ðŸŽ‰"
                        ),
                        React.createElement(
                          "div",
                          {
                            className:
                              "text-lg sm:text-2xl text-white/90 max-w-xl",
                          },
                          "ë‹¹ì‹ ì˜ ë‹µë³€ì€ AIì— ì˜í•´ ë¶„ì„ë˜ì—ˆìŠµë‹ˆë‹¤. ê²°ê³¼ëŠ” â€œë”°ëœ»í•œ ë§ˆìŒì„ ê°€ì§„ ì‚¬ëžŒâ€ ìž…ë‹ˆë‹¤. (ë†ë‹´ì´ì—ìš” ðŸ˜Ž ê²°ê³¼ ê³„ì‚°ì€ ë‚˜ì¤‘ì— ì¶”ê°€!)"
                        ),
                      ]
                    )
                  : React.createElement(
                      motion.div,
                      {
                        key: questionIndex,
                        initial: { opacity: 0, y: 40 },
                        animate: { opacity: 1, y: 0 },
                        exit: { opacity: 0, y: -40 },
                        transition: { duration: 0.5 },
                        className:
                          "flex flex-col items-center gap-10 z-10",
                      },
                      [
                        React.createElement(
                          "div",
                          {
                            className:
                              "text-2xl sm:text-4xl font-bold drop-shadow-[0_0_15px_rgba(0,200,255,0.7)] text-white",
                          },
                          questions[questionIndex]
                        ),
                        React.createElement(
                          "div",
                          { className: "flex gap-6" },
                          [
                            React.createElement(
                              motion.button,
                              {
                                whileHover: { scale: 1.1 },
                                whileTap: { scale: 0.95 },
                                className:
                                  "px-8 py-4 rounded-2xl font-bold text-lg transition backdrop-blur-md border border-white/20 shadow-xl " +
                                  (clicked === "ì˜ˆ"
                                    ? "scale-110 bg-gradient-to-r from-green-300 to-green-500 text-black shadow-[0_0_25px_rgba(0,255,0,0.7)]"
                                    : "bg-white/10 hover:bg-white/20 text-green-200"),
                                onClick: () => handleAnswer("ì˜ˆ"),
                              },
                              "ì˜ˆ"
                            ),
                            React.createElement(
                              motion.button,
                              {
                                whileHover: { scale: 1.1 },
                                whileTap: { scale: 0.95 },
                                className:
                                  "px-8 py-4 rounded-2xl font-bold text-lg transition backdrop-blur-md border border-white/20 shadow-xl " +
                                  (clicked === "ì•„ë‹ˆì˜¤"
                                    ? "scale-110 bg-gradient-to-r from-red-300 to-red-500 text-black shadow-[0_0_25px_rgba(255,0,0,0.7)]"
                                    : "bg-white/10 hover:bg-white/20 text-red-200"),
                                onClick: () => handleAnswer("ì•„ë‹ˆì˜¤"),
                              },
                              "ì•„ë‹ˆì˜¤"
                            ),
                          ]
                        ),
                      ]
                    )
              ),
            ],
          })
        );
      }

      ReactDOM.createRoot(document.getElementById("root")).render(
        React.createElement(PersonalityQuizSite)
      );
    </script>
  </body>
</html>
